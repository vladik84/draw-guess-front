{"ast":null,"code":"/** \n * Original from: https://stackoverflow.com/questions/21961839/simulation-background-size-cover-in-canvas\n * Original By Ken Fyrstenberg Nilsen\n * \n * Note: img must be fully loaded or have correct width & height set.\n */\nexport default function drawImageProp(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      ctx = _ref.ctx,\n      img = _ref.img,\n      x = _ref.x,\n      y = _ref.y,\n      w = _ref.w,\n      h = _ref.h,\n      offsetX = _ref.offsetX,\n      offsetY = _ref.offsetY; // Defaults\n\n\n  if (typeof x !== \"number\") x = 0;\n  if (typeof y !== \"number\") y = 0;\n  if (typeof w !== \"number\") w = ctx.canvas.width;\n  if (typeof h !== \"number\") h = ctx.canvas.height;\n  if (typeof offsetX !== \"number\") offsetX = 0.5;\n  if (typeof offsetY !== \"number\") offsetY = 0.5; // keep bounds [0.0, 1.0]\n\n  if (offsetX < 0) offsetX = 0;\n  if (offsetY < 0) offsetY = 0;\n  if (offsetX > 1) offsetX = 1;\n  if (offsetY > 1) offsetY = 1;\n  var iw = img.width,\n      ih = img.height,\n      r = Math.min(w / iw, h / ih),\n      nw = iw * r,\n      // new prop. width\n  nh = ih * r,\n      // new prop. height\n  cx,\n      cy,\n      cw,\n      ch,\n      ar = 1; // decide which gap to fill\n\n  if (nw < w) ar = w / nw;\n  if (Math.abs(ar - 1) < 1e-14 && nh < h) ar = h / nh; // updated\n\n  nw *= ar;\n  nh *= ar; // calc source rectangle\n\n  cw = iw / (nw / w);\n  ch = ih / (nh / h);\n  cx = (iw - cw) * offsetX;\n  cy = (ih - ch) * offsetY; // make sure source rectangle is valid\n\n  if (cx < 0) cx = 0;\n  if (cy < 0) cy = 0;\n  if (cw > iw) cw = iw;\n  if (ch > ih) ch = ih; // fill image in dest. rectangle\n\n  ctx.drawImage(img, cx, cy, cw, ch, x, y, w, h);\n}","map":{"version":3,"names":["drawImageProp","_temp","_ref","ctx","img","x","y","w","h","offsetX","offsetY","canvas","width","height","iw","ih","r","Math","min","nw","nh","cx","cy","cw","ch","ar","abs","drawImage"],"sources":["/Users/vladikumpan/draw-guess/node_modules/react-canvas-draw/es/drawImage.js"],"sourcesContent":["/** \n * Original from: https://stackoverflow.com/questions/21961839/simulation-background-size-cover-in-canvas\n * Original By Ken Fyrstenberg Nilsen\n * \n * Note: img must be fully loaded or have correct width & height set.\n */\nexport default function drawImageProp(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      ctx = _ref.ctx,\n      img = _ref.img,\n      x = _ref.x,\n      y = _ref.y,\n      w = _ref.w,\n      h = _ref.h,\n      offsetX = _ref.offsetX,\n      offsetY = _ref.offsetY;\n\n  // Defaults\n  if (typeof x !== \"number\") x = 0;\n  if (typeof y !== \"number\") y = 0;\n  if (typeof w !== \"number\") w = ctx.canvas.width;\n  if (typeof h !== \"number\") h = ctx.canvas.height;\n  if (typeof offsetX !== \"number\") offsetX = 0.5;\n  if (typeof offsetY !== \"number\") offsetY = 0.5; // keep bounds [0.0, 1.0]\n\n  if (offsetX < 0) offsetX = 0;\n  if (offsetY < 0) offsetY = 0;\n  if (offsetX > 1) offsetX = 1;\n  if (offsetY > 1) offsetY = 1;\n  var iw = img.width,\n      ih = img.height,\n      r = Math.min(w / iw, h / ih),\n      nw = iw * r,\n      // new prop. width\n  nh = ih * r,\n      // new prop. height\n  cx,\n      cy,\n      cw,\n      ch,\n      ar = 1; // decide which gap to fill\n\n  if (nw < w) ar = w / nw;\n  if (Math.abs(ar - 1) < 1e-14 && nh < h) ar = h / nh; // updated\n\n  nw *= ar;\n  nh *= ar; // calc source rectangle\n\n  cw = iw / (nw / w);\n  ch = ih / (nh / h);\n  cx = (iw - cw) * offsetX;\n  cy = (ih - ch) * offsetY; // make sure source rectangle is valid\n\n  if (cx < 0) cx = 0;\n  if (cy < 0) cy = 0;\n  if (cw > iw) cw = iw;\n  if (ch > ih) ch = ih; // fill image in dest. rectangle\n\n  ctx.drawImage(img, cx, cy, cw, ch, x, y, w, h);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}