{"ast":null,"code":"var _jsxFileName = \"/Users/vladikumpan/draw-guess/src/components/Pages/Welcome/Welcome.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Welcome = props => {\n  _s();\n\n  const [status, setStatus] = useState(0);\n  const [time, setTime] = useState(0);\n  const channel = new BroadcastChannel(\"timer_sync\");\n\n  const syncItUp = () => {\n    channel.postMessage(\"button clicked\");\n    setStatus(status++);\n  };\n\n  useEffect(() => {\n    channel.onmessage = ev => {\n      console.log(ev);\n      setStatus(status++);\n    };\n\n    return () => {\n      channel.close();\n    };\n  }, [channel, startTimer]);\n\n  const startClickHandler = () => {\n    props.handler();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Welcome to our Draw And Guess game!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: syncItUp,\n      children: \"Click to start\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), status && time === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"timer\",\n      children: \"Starting...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 31\n    }, this) : null, time > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"timer\",\n      children: time\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 19\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Welcome, \"CK7in57Q328hMXV9f78jTnfALyQ=\");\n\n_c = Welcome;\nexport default Welcome;\n\nvar _c;\n\n$RefreshReg$(_c, \"Welcome\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","useNavigate","Welcome","props","status","setStatus","time","setTime","channel","BroadcastChannel","syncItUp","postMessage","onmessage","ev","console","log","close","startTimer","startClickHandler","handler"],"sources":["/Users/vladikumpan/draw-guess/src/components/Pages/Welcome/Welcome.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst Welcome = (props) => {\n\n  const [status, setStatus] = useState(0);\n  const [time, setTime] = useState(0);\n  const channel = new BroadcastChannel(\"timer_sync\");\n\n  \n\n  const syncItUp = () => {\n    channel.postMessage(\"button clicked\");\n    setStatus(status++);\n  };\n\n  useEffect(() => {\n    channel.onmessage = ev => {\n      console.log(ev);\n      setStatus(status++);\n    };\n\n    return () => {\n      channel.close();\n    };\n  }, [channel, startTimer]);\n\n    \n\n  const startClickHandler =()=>{\n    props.handler();\n  };\n\n  return (\n    <div>\n      <h1>Welcome to our Draw And Guess game!</h1>\n      <button onClick={syncItUp}>Click to start</button>\n      <div>{status}</div>\n      {status && time === 0 ? <div className=\"timer\">Starting...</div> : null}\n      {time > 0 ? <div className=\"timer\">{time}</div> : null}\n    </div>\n  );\n};\n\nexport default Welcome;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,WAArC,QAAwD,OAAxD;AACA,SAASC,WAAT,QAA4B,kBAA5B;;;AAEA,MAAMC,OAAO,GAAIC,KAAD,IAAW;EAAA;;EAEzB,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBN,QAAQ,CAAC,CAAD,CAApC;EACA,MAAM,CAACO,IAAD,EAAOC,OAAP,IAAkBR,QAAQ,CAAC,CAAD,CAAhC;EACA,MAAMS,OAAO,GAAG,IAAIC,gBAAJ,CAAqB,YAArB,CAAhB;;EAIA,MAAMC,QAAQ,GAAG,MAAM;IACrBF,OAAO,CAACG,WAAR,CAAoB,gBAApB;IACAN,SAAS,CAACD,MAAM,EAAP,CAAT;EACD,CAHD;;EAKAN,SAAS,CAAC,MAAM;IACdU,OAAO,CAACI,SAAR,GAAoBC,EAAE,IAAI;MACxBC,OAAO,CAACC,GAAR,CAAYF,EAAZ;MACAR,SAAS,CAACD,MAAM,EAAP,CAAT;IACD,CAHD;;IAKA,OAAO,MAAM;MACXI,OAAO,CAACQ,KAAR;IACD,CAFD;EAGD,CATQ,EASN,CAACR,OAAD,EAAUS,UAAV,CATM,CAAT;;EAaA,MAAMC,iBAAiB,GAAE,MAAI;IAC3Bf,KAAK,CAACgB,OAAN;EACD,CAFD;;EAIA,oBACE;IAAA,wBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAEE;MAAQ,OAAO,EAAET,QAAjB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF,eAGE;MAAA,UAAMN;IAAN;MAAA;MAAA;MAAA;IAAA,QAHF,EAIGA,MAAM,IAAIE,IAAI,KAAK,CAAnB,gBAAuB;MAAK,SAAS,EAAC,OAAf;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAvB,GAAkE,IAJrE,EAKGA,IAAI,GAAG,CAAP,gBAAW;MAAK,SAAS,EAAC,OAAf;MAAA,UAAwBA;IAAxB;MAAA;MAAA;MAAA;IAAA,QAAX,GAAiD,IALpD;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AASD,CAvCD;;GAAMJ,O;;KAAAA,O;AAyCN,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}